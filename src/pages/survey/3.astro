---
import Layout from "@/layouts/Layout.astro";
import SurveyStepThree from "@/components/SurveyStepThree.tsx";
import { SurveyProtectionWrapper } from "@/components/SurveyProtectionWrapper";
import { getCollection } from "astro:content";

const questions = await getCollection("axisQuestions");
const categoryQuestions = questions.filter(q => q.data.category === "Civilian & Military Relationships");
---

<Layout title="Survey Step 3 - The Veteran Culture Project" isLandingPage={false}>
  <SurveyProtectionWrapper client:only="react">
    <SurveyStepThree questions={categoryQuestions} client:only="react" />
  </SurveyProtectionWrapper>
</Layout>
