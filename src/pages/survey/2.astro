---
import Layout from "@/layouts/Layout.astro";
import SurveyStepTwo from "@/components/SurveyStepTwo.tsx";
import { SurveyProtectionWrapper } from "@/components/SurveyProtectionWrapper";
import { getCollection } from "astro:content";

const questions = await getCollection("axisQuestions");
const categoryQuestions = questions.filter(q => q.data.category === "Mental Health & Addiction " || q.data.category === "Mental Health & Addiction");
---

<Layout title="Survey Step 2 - The Veteran Culture Project" isLandingPage={false}>
  <SurveyProtectionWrapper client:only="react">
    <SurveyStepTwo questions={categoryQuestions} client:only="react" />
  </SurveyProtectionWrapper>
</Layout>
